(()=>{var e={606:e=>{var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],d=!1,s=-1;function u(){d&&c&&(d=!1,c.length?l=c.concat(l):s=-1,l.length&&m())}function m(){if(!d){var e=o(u);d=!0;for(var t=l.length;t;){for(c=l,l=[];++s<t;)c&&c[s].run();s=-1,t=l.length}c=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||d||o(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=React;var t=n.n(e);function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const r=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r};var a=n(606);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var l=(0,e.createContext)({});function d(){return(0,e.useContext)(l)}var s=function(e){return t().createElement(l.Provider,{value:e.refTracker},e.children)};function u(){var e=new Map;return{on:function(t,n){var i;return e.has(t)?null==(i=e.get(t))||i.add(n):e.set(t,new Set([n])),this},off:function(t,n){return n?e.get(t).delete(n):e.delete(t),this},emit:function(t,n){if("production"!==a.env.NODE){var i=t;e.has(t)||0===i||console.error("It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.","You used the menu id: "+t)}return e.has(t)&&e.get(t).forEach((function(e){e(n)})),this}}}var m=u();function f(){return(0,e.useRef)(new Map).current}var p={show:function(e){var t=e.id,n=e.event,i=e.props,r=e.position;n.preventDefault&&n.preventDefault(),m.emit(0).emit(t,{event:n.nativeEvent||n,props:i,position:r})},hideAll:function(){m.emit(0)}};function g(e){return{show:function(t,n){p.show({id:(null==n?void 0:n.id)||(null==e?void 0:e.id),props:(null==n?void 0:n.props)||(null==e?void 0:e.props),event:t,position:null==n?void 0:n.position})},hideAll:function(){p.hideAll()}}}function v(){var e,t,n,i,r=new Map,a=!1;function o(){i[e].node.focus()}function c(){return-1!==e||(l(),!1)}function l(){e+1<i.length?e++:e+1===i.length&&(e=0),a&&d(),o()}function d(){if(c()&&!n){var l=r.get(t),d=l.isRoot,s=l.items,u=l.focusedIndex,m=l.parentNode;t.classList.remove("react-contexify__submenu--is-open"),i=s,t=m,d&&(n=!0,r.clear()),a||(e=u,o())}}return{init:function(t){i=t,e=-1,n=!0},moveDown:l,moveUp:function(){-1===e||0===e?e=i.length-1:e-1<i.length&&e--,a&&d(),o()},openSubmenu:function(){if(c()&&e>=0&&i[e].isSubmenu){var l=Array.from(i[e].submenuRefTracker.values()),d=i[e].node;return r.set(d,{isRoot:n,focusedIndex:e,parentNode:t||d,items:i}),d.classList.add("react-contexify__submenu--is-open"),t=d,l.length>0?(e=0,i=l):a=!0,n=!1,o(),!0}return!1},closeSubmenu:d}}var h={fade:"fade",flip:"flip",scale:"scale",slide:"slide"},w=function(){};function y(e){return"function"==typeof e}function b(e){return"string"==typeof e}function A(t,n){return e.Children.map(e.Children.toArray(t).filter(Boolean),(function(t){return(0,e.cloneElement)(t,n)}))}function E(e,t){return y(e)?e(t):e}function _(e,t){return y(t)?o({},e,t(e)):o({},e,t)}var R=function(n){var i,a,l,d=n.id,u=n.theme,p=n.style,g=n.className,h=n.children,y=n.animation,E=void 0===y?"scale":y,R=n.onHidden,S=void 0===R?w:R,F=n.onShown,U=void 0===F?w:F,j=c(n,["id","theme","style","className","children","animation","onHidden","onShown"]),O=(0,e.useReducer)(_,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),C=O[0],x=O[1],k=(0,e.useRef)(null),B=(0,e.useRef)(!1),N=(a=C.visible,l=(0,e.useRef)(),(0,e.useEffect)((function(){l.current=a}),[a]),l.current),T=f(),P=(0,e.useState)((function(){return v()}))[0];function D(e){var t=e.event,n=e.props,i=e.position;t.stopPropagation();var r,a,o=i||(a={x:0,y:0},function(e){return"touchend"===e.type}(r=t)&&r.changedTouches&&r.changedTouches.length>0?(a.x=r.changedTouches[0].clientX,a.y=r.changedTouches[0].clientY):(a.x=r.clientX,a.y=r.clientY),(!a.x||a.x<0)&&(a.x=0),(!a.y||a.y<0)&&(a.y=0),a),c=o.x,l=o.y;setTimeout((function(){x({visible:!0,willLeave:!1,x:c,y:l,triggerEvent:t,propsFromTrigger:n})}),0)}function K(e){var t=e;(void 0===t||2!==t.button&&!0!==t.ctrlKey||"contextmenu"===t.type)&&(!function(e){return!(!e||!(b(e)||"exit"in e&&e.exit))}(E)?x((function(e){return{visible:!e.visible&&e.visible}})):x((function(e){return{willLeave:e.visible}})))}(0,e.useEffect)((function(){return B.current=!0,m.on(d,D).on(0,K),function(){m.off(d,D).off(0,K)}}),[d]),(0,e.useEffect)((function(){B.current&&C.visible!==N&&(C.visible?U():S())}),[C.visible,S,U]),(0,e.useEffect)((function(){C.visible?P.init(Array.from(T.values())):T.clear()}),[C.visible,P,T]),(0,e.useEffect)((function(){if(C.visible){var e=window,t=e.innerWidth,n=e.innerHeight,i=k.current,r=i.offsetWidth,a=i.offsetHeight,o=C.x,c=C.y;o+r>t&&(o-=o+r-t),c+a>n&&(c-=c+a-n),x({x:o,y:c})}}),[C.visible]),(0,e.useEffect)((function(){function e(e){switch(e.preventDefault(),e.key){case"Enter":P.openSubmenu()||K();break;case"Escape":K();break;case"ArrowUp":P.moveUp();break;case"ArrowDown":P.moveDown();break;case"ArrowRight":P.openSubmenu();break;case"ArrowLeft":P.closeSubmenu()}}return C.visible&&(window.addEventListener("resize",K),window.addEventListener("contextmenu",K),window.addEventListener("click",K),window.addEventListener("scroll",K),window.addEventListener("keydown",e),window.addEventListener("blur",K)),function(){window.removeEventListener("resize",K),window.removeEventListener("contextmenu",K),window.removeEventListener("click",K),window.removeEventListener("scroll",K),window.removeEventListener("keydown",e),window.removeEventListener("blur",K)}}),[C.visible,P]);var M,I,L=C.visible,Q=C.triggerEvent,J=C.propsFromTrigger,W=C.x,q=C.y,H=C.willLeave,X=r("react-contexify",g,((i={})["react-contexify__theme--"+u]=u,i),E?b(E)?r(((M={})["react-contexify__will-enter--"+E]=E&&L&&!H,M["react-contexify__will-leave--"+E+" react-contexify__will-leave--'disabled'"]=E&&L&&H,M)):"enter"in E&&"exit"in E?r(((I={})["react-contexify__will-enter--"+E.enter]=E.enter&&L&&!H,I["react-contexify__will-leave--"+E.exit+" react-contexify__will-leave--'disabled'"]=E.exit&&L&&H,I)):null:null),G=o({},p,{left:W,top:q,opacity:1});return t().createElement(s,{refTracker:T},L&&t().createElement("div",Object.assign({},j,{className:X,onAnimationEnd:function(){C.willLeave&&C.visible&&x({visible:!1,willLeave:!1})},style:G,ref:k,role:"menu"}),A(h,{propsFromTrigger:J,triggerEvent:Q})))},S=function(e){var n,i=e.children,a=e.className,o=e.style,l=e.triggerEvent,s=e.data,u=e.propsFromTrigger,m=e.onClick,f=void 0===m?w:m,p=e.disabled,g=void 0!==p&&p,v=e.hidden,h=void 0!==v&&v,y=c(e,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]),b=d(),A={data:s,triggerEvent:l,props:u},_=E(g,A);if(E(h,A))return null;var R=r("react-contexify__item",a,((n={})["react-contexify__item--disabled"]=_,n));return t().createElement("div",Object.assign({},y,{className:R,style:o,onClick:function(e){A.event=e,_?e.stopPropagation():f(A)},onKeyDown:function(e){"Enter"===e.key&&(A.event=e,f(A))},ref:function(e){e&&!_&&b.set(e,{node:e,isSubmenu:!1})},tabIndex:-1,role:"menuitem","aria-disabled":_}),t().createElement("div",{className:"react-contexify__item__content"},i))};function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,c=[],l=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(c.push(i.value),c.length!==t);l=!0);}catch(e){d=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw r}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j(e){var t;return!e||!e.type||("application/vnd.google-apps.folder"===e.type||"application/vnd.google-apps.folder"===(null===(t=e.shortcutDetails)||void 0===t?void 0:t.targetMimeType))}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.parse(k(igd.activeAccount))).id,n=[{accountId:t,id:"root",name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/my-drive.svg")},{accountId:t,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared-drives.svg")},{accountId:t,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/computers.svg")},{accountId:t,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared.svg")},{accountId:t,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/starred.svg")}];return e?n.find((function(t){return t.id===e})):n}function C(e,t){e.onerror=null;var n="https://www.gravatar.com/avatar/"+t+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,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":e.src=n}function x(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function k(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"970",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"700",n=window.screenLeft||window.screenX,i=window.screenTop||window.screenY,r=n+(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2,a=i+(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-t/2,o=window.open(igd.authUrl,"newwindow","width=".concat(e,",height=").concat(t,",left=").concat(r,",top=").concat(a));o.focus&&o.focus(),Object.keys(sessionStorage).forEach((function(e){e.includes("igd_last_folder_")&&sessionStorage.removeItem(e)}))}var N=window.ReactTooltip,T=wp.i18n.__,P=React.useEffect;function D(e){var t=e.activeAccount,n=e.setActiveAccount;P((function(){N.rebuild()}),[]);var i="igd-media-accounts-wrap-".concat(Math.floor(1e3*Math.random()));return React.createElement("div",{className:"igd-media-accounts-wrap"},React.createElement("div",{className:"igd-media-account","data-tip":!0,"data-for":i,onClick:function(e){e.stopPropagation()}},React.createElement("img",{referrerPolicy:"no-referrer",className:"user-image",src:t.photo,onError:function(e){return C(e.currentTarget,t.email)}}),React.createElement("svg",{className:"user-arrow",width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M15 1.5L8 8.5L1 1.5",stroke:"#757575",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),React.createElement(N,{id:i,place:"bottom",type:"light",effect:"solid",event:"click",globalEventOff:"click",clickable:!0,border:!0,borderColor:"#ddd",resizeHide:!1,className:"igd-media-account-modal-wrap igd-tooltip"},React.createElement("div",{className:"igd-media-account-modal",onClick:function(e){e.stopPropagation()}},React.createElement("span",{className:"igd-media-account-modal-title"},T("Switch Account","integrate-google-drive")),Object.keys(JSON.parse(k(igd.accounts))).map((function(e){var i=JSON.parse(k(igd.accounts))[e],r=i.id,a=i.name,o=i.photo,c=i.email,l=t.id===r;return React.createElement("div",{key:e,className:"account-item ".concat(l?"active":""),onClick:function(t){t.stopPropagation(),n(JSON.parse(k(igd.accounts[e])))}},React.createElement("img",{referrerPolicy:"no-referrer",onError:function(e){return C(e.currentTarget,c)},src:o}),React.createElement("div",{className:"account-info"},React.createElement("span",{className:"account-name"},a),React.createElement("span",{className:"account-email"},c)),l&&React.createElement("i",{className:"dashicons dashicons-saved active-badge"}))})),React.createElement("button",{className:"igd-btn btn-primary",onClick:function(e){e.stopPropagation(),igd.authUrl?B():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings"}},React.createElement("i",{className:"dashicons dashicons-plus"}),React.createElement("span",null,wp.i18n.__("Add account","integrate-google-drive"))))))}var K=React,M=K.useEffect,I=K.useRef,L=ReactDOM.createPortal;const Q=function(e){var t=e.children,n=I(document.createElement("div"));return M((function(){return document.body.appendChild(n.current),function(){return document.body.removeChild(n.current)}}),[]),L(t,n.current)};var J=React.createContext();const W=J;var q=J.Provider;function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function X(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){var i;return i=function(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=H(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==H(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,c=[],l=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(c.push(i.value),c.length!==t);l=!0);}catch(e){d=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw r}}return c}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ee=React,te=ee.useState,ne=ee.useEffect;function ie(e){var t=e.fileIds,n=e.activeAccount,i=e.initFolders;n||(n=JSON.parse(k(igd.activeAccount)));var r=V(te(null),2),a=r[0],o=r[1],c=V(te(null),2),l=c[0],d=c[1],s=V(te(null),2),u=s[0],m=s[1],f=V(te([]),2),p=f[0],g=f[1],v=V(te(!1),2),h=v[0],w=v[1];function y(e){return o(e.id),wp.ajax.post("igd_get_files",{data:{folder:e},nonce:igd.nonce,user_key:igd.userKey}).done((function(t){var n=t.files;n=n.filter((function(e){return j(e)})),d((function(t){return Y(Y({},t),{},z({},e.id,n))}))})).fail((function(e){console.log(e)})).always((function(){o(null)}))}ne((function(){var e={id:"root",accountId:n.id};y(e).then((function(t){g([e])}))}),[]);var b=!!u&&t.includes(u.id);u&&["computers","shared","starred","shared-drives"].includes(u.id)&&(b=!0);var A=O(!1,n);return i&&(A=i.filter((function(e){return j(e)}))),React.createElement("div",{className:"move-folders-wrap"},React.createElement("div",{className:"move-folders"},A.map((function(e){var t=e.id,n=e.name,i=e.iconLink,r=p.find((function(e){return e.id===t})),o=!!u&&u.id===t,c=function(t){t.stopPropagation(),r?g(p.filter((function(t){return t.id!==e.id}))):(l[e.id]||y(e),g([].concat(X(p),[e])))};return React.createElement(React.Fragment,null,React.createElement("div",{key:t,className:"move-folder ".concat(o?"active":""),onClick:function(n){["computers","shared","starred","shared-drives"].includes(t)?c(n):m(o?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(r?"down":"right"),onClick:c}),React.createElement("img",{src:i,alt:n}),!["computers","shared","starred","shared-drives"].includes(t)&&React.createElement("div",{className:"file-item-checkbox ".concat(o?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,n),a===t&&React.createElement("div",{className:"igd-spinner"})),r&&React.createElement(re,{folders:l[t]?l[t]:[],childFolders:l,selectedFolder:u,setSelectedFolder:m,getFolders:y,openFolders:p,setOpenFolders:g,loading:a}))}))),React.createElement("button",{disabled:b,type:"button",className:"igd-btn ".concat(b?"disabled":"btn-primary"),onClick:function(){u&&(w(!0),wp.ajax.post("igd_media_upload_attachment",{file_ids:t,folder:u,nonce:igd.nonce}).done((function(e){Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n.__("File uploaded successfully!","integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,customClass:{container:"igd-swal"}}),e.length&&e.forEach((function(e){wp.ajax.post("igd_file_uploaded",{file:Y(Y({},e),{},{type:e.mimeType,accountId:u.accountId}),nonce:igd.nonce})}))})).fail((function(e){console.error("Upload failed:",e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Something went wrong!","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,customClass:{container:"igd-swal"}})})).always((function(){w(!1)})))}},h&&React.createElement("div",{className:"igd-spinner"}),h?wp.i18n.__("Uploading...","integrate-google-drive"):wp.i18n.__("Upload","integrate-google-drive")))}function re(e){var t=e.folders,n=e.childFolders,i=e.selectedFolder,r=e.setSelectedFolder,a=e.getFolders,o=e.openFolders,c=e.setOpenFolders,l=e.loading;return t.length?t.map((function(e){var t=o.find((function(t){return t.id===e.id})),d=!!i&&i.id===e.id;return React.createElement("div",{key:e.id,className:"move-folder-wrap"},React.createElement("div",{className:"move-folder ".concat(d?"active":""),onClick:function(){r(d?null:e)}},React.createElement("i",{className:"dashicons dashicons-arrow-".concat(t?"down":"right"),onClick:function(i){i.stopPropagation(),t?c(o.filter((function(t){return t.id!==e.id}))):(n[e.id]||a(e),c([].concat(X(o),[e])))}}," "),React.createElement("img",{src:e.iconLink,alt:e.name}),React.createElement("div",{className:"file-item-checkbox ".concat(d?"checked":"")},React.createElement("span",{className:"box"})),React.createElement("span",null,e.name),l===e.id&&React.createElement("div",{className:"igd-spinner"})),t&&n[e.id]&&React.createElement(re,{folders:n[e.id],childFolders:n,getFolders:a,setSelectedFolder:r,selectedFolder:i,openFolders:o,setOpenFolders:c,loading:l}))})):!l&&React.createElement("div",{className:"move-folder-wrap empty"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}function ae(e){var t=e.google_drive_file;Swal.fire({title:"Importing ".concat(t.name),text:wp.i18n.__("Please wait import is in progress.","integrate-google-drive"),icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,customClass:{container:"igd-swal igd-media-swal-import"},didOpen:function(){Swal.showLoading(),wp.ajax.send("igd_import_media",{data:{files:[t],nonce:igd.nonce},success:function(e){Swal.fire({title:wp.i18n.__("Imported!","integrate-google-drive"),text:wp.i18n.__("The file has been imported.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal igd-media-swal-import"}})},error:function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("There was an error importing the file.","integrate-google-drive"),icon:"error",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0,customClass:{container:"igd-swal igd-media-swal-import"}})}})}})}function oe(e){var t=wp.media({title:wp.i18n.__("Select Replacement","integrate-google-drive"),button:{text:wp.i18n.__("Select","integrate-google-drive")},multiple:!1});t.$el.addClass("igd-media-replace-frame"),t.on("select",(function(){var n=t.state().get("selection").first().toJSON();n.mime===e.mime?wp.ajax.post("igd_media_replace_attachment",{old_attachment_id:e.id,new_attachment_id:n.id,nonce:igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("File Replaced","integrate-google-drive"),text:wp.i18n.__("The file has been replaced with the selected Google Drive file.","integrate-google-drive"),icon:"success",toast:!0,timer:3e3,showConfirmButton:!1,customClass:{container:"igd-swal"}}),le(e,"replace")})).fail((function(e){console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("There was an error replacing the file.","integrate-google-drive"),icon:"error",customClass:{container:"igd-swal"}})})):Swal.fire({title:wp.i18n.__("File type mismatch","integrate-google-drive"),text:wp.i18n.__("The selected file type must match the type of the file you are replacing.","integrate-google-drive"),icon:"error",customClass:{container:"igd-swal"}})})).open()}function ce(e){wp.ajax.post("igd_media_restore_attachment",{attachment_id:e.id,nonce:igd.nonce}).done((function(){Swal.fire({title:wp.i18n.__("File Restored","integrate-google-drive"),text:wp.i18n.__("File has been restored to the original media library attachment.","integrate-google-drive"),icon:"success",toast:!0,timer:3e3,showConfirmButton:!1,customClass:{container:"igd-swal"}}),le(e,"restore")})).fail((function(e){console.log(e)}))}function le(e,t){var n=jQuery;wp.media.attachment(e.id).fetch().then((function(i){var r=n(".attachment-details"),a=r.find('input[name^="attachments["]').attr("name"),o=null==a?void 0:a.match(/attachments\[(\d+)\]\[menu_order\]/),c=o?o[1]:null;c==e.id&&(r.find(".details-image").attr("src",i.sizes.full.url),r.find(".attachment-details-copy-link").val(i.url),"replace"===t?(r.find(".compat-field-igd_media_upload").addClass("igd-hidden"),r.find(".igd-media-action-replace").replaceWith('<button type="button" class="button igd-media-action igd-media-action-restore" data-action="restore" data-attachment_id="'.concat(c,'"><i class="dashicons dashicons-image-rotate"></i>').concat(wp.i18n.__("Restore","integrate-google-drive"),"</button>"))):"restore"===t&&(r.find(".compat-field-igd_media_upload").removeClass("igd-hidden"),r.find(".igd-media-action-restore").replaceWith('<button type="button" class="button igd-media-action igd-media-action-replace" data-action="replace" data-attachment_id="'.concat(c,'"><i class="dashicons dashicons-update-alt"></i>').concat(wp.i18n.__("Replace","integrate-google-drive"),"</button>"))))}))}function de(e){Swal.fire({title:wp.i18n.__("Select Upload Folder","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-media-upload"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-media-upload-swal"},didOpen:function(t){var n=document.getElementById("igd-media-upload");ReactDOM.render(React.createElement(ie,{fileIds:[e.id]}),n)},willClose:function(){var e=document.getElementById("igd-media-upload");ReactDOM.unmountComponentAtNode(e)}})}function se(e){var t=new URL(window.location.href);for(var n in e)t.searchParams.set(n,e[n]);window.location.href=t.href}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){var i;return i=function(e,t){if("object"!=ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ue(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ue(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=React.useContext;function ve(){var e="upload-list"===igdMedia.pageType,t=ge(W),n=t.activeFolder,i=t.setActiveFolder,r=t.getChildFolders,a=[{key:"refresh",title:wp.i18n.__("Refresh","integrate-google-drive"),icon:"dashicons-update-alt"}];return React.createElement(Q,null,React.createElement(R,{id:"igd-media-context-menu",className:"igd-context-menu",animation:h.fade},a.map((function(t){var a=t.key,o=t.title,c=t.icon;return React.createElement(S,{key:a,onClick:function(t){t.data,t.event,t.triggerEvent;if("refresh"===a){if(e)return void se({folder_id:x(n.id),account_id:x(n.accountId),is_refresh:!0});i(fe(fe({},n),{},{isRefresh:!0})),r(fe(fe({},n),{},{isRefresh:!0}))}},data:{action:a},className:"context-menu-item ".concat(a),disabled:!1},React.createElement("i",{className:"dashicons ".concat(c)}),React.createElement("span",null,o))}))))}function he(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ye=React.useContext;function be(e){var t=e.folders,n=e.isSub,i="upload-list"===igdMedia.pageType,r=ye(W),a=r.activeFolder,o=r.setActiveFolder,c=r.showContextMenu,l=r.isLoading,d=r.childFolders,s=r.openFolders,u=r.setOpenFolders,m=r.getChildFolders,f=function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=null==t||null===(n=t.id)||void 0===n?void 0:n.startsWith("AI_");(e.stopPropagation(),"application/vnd.google-apps.shortcut"===t.type)&&(t.id=null===(r=t.shortcutDetails)||void 0===r?void 0:r.targetId);if(a)s.find((function(e){return t.id===e.id}))?u((function(e){return e.filter((function(e){return t.id!==e.id}))})):u((function(e){return[].concat(he(e),[t])}));else{if(i)return void se({folder_id:x(t.id),account_id:x(t.accountId)});o(t),u((function(e){return[].concat(he(e),[t])}))}s.find((function(e){return t.id===e.id}))||null!=d&&d.id||c||d[null==t?void 0:t.id]||m(t)};return React.createElement("div",{className:"".concat(n?"sub-item":"tree-main")},t.map((function(e){var t=e.id,n=e.name,i=e.iconLink,r=t===(null==a?void 0:a.id),o=!!s.length&&s.find((function(t){return t.id===e.id}));return React.createElement("div",{className:"tree-item-wrap"},React.createElement("div",{key:t,className:"".concat(r?"active":""," tree-item folder-item"),onClick:function(t){return f(t,e)},onContextMenu:function(e){e.preventDefault(),c(e)}},l!==t&&React.createElement("i",{className:"dashicons ".concat(o?"dashicons-arrow-down":"dashicons-arrow-right"),onClick:function(t){return f(t,e,!0)}}),l===t&&React.createElement("div",{className:"igd-spinner"}),React.createElement("img",{src:i,alt:n}),React.createElement("span",null,n)),!!o&&d[t]&&React.createElement(be,{folders:d[t],isSub:!0}))})))}var Ae=React,Ee=Ae.useEffect,_e=Ae.useRef,Re=Ae.useContext,Se=ReactDOM.createPortal,Fe=function(e){var t=e.frame,n=e.children,i=_e(document.createElement("div"));return Ee((function(){t.find(".igd-media-folders").remove();var e=t.find(".attachments-wrapper");if(e.length)return i.current.classList.add("igd-media-folders"),e.prepend(i.current),function(){jQuery(i.current).remove()}}),[]),Se(n,i.current)};function Ue(){var e=Re(W),t=e.frame,n=e.activeFolder,i=e.setActiveFolder,r=e.getChildFolders,a=e.childFolders;return React.createElement(Fe,{frame:t},a[null==n?void 0:n.id].map((function(e){return React.createElement("div",{key:e.id,className:"igd-media-folder ".concat(e.id===(null==n?void 0:n.id)?"active":""),onClick:function(){i(e),r(e)}},React.createElement("img",{src:e.iconLink,alt:e.name,width:24,height:24}),React.createElement("div",{className:"igd-media-folder-name"},e.name))})))}function je(){return React.createElement("div",{className:"no-account-placeholder"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/file-browser/no-account-placeholder.svg"),alt:"No Accounts"}),React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any account yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please link to a Google Drive account to continue.","integrate-google-drive")),React.createElement("button",{className:"igd-btn add-account-btn",onClick:function(){igd.authUrl?B():window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=accounts"}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/google-icon.png")}),React.createElement("span",null,wp.i18n.__("Sign in with Google","integrate-google-drive"))))}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,c=[],l=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(c.push(i.value),c.length!==t);l=!0);}catch(e){d=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw r}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xe=React,ke=xe.useState,Be=xe.useEffect,Ne=xe.useContext;xe.useRef;const Te=function(){var e=jQuery,t=(Ne(W).activeAccount,Oe(ke(null),2)),n=t[0],i=t[1],r=g({id:"igd-media-item-context-menu"}),a=r.show;r.hideAll,Be((function(){return e(document).on("contextmenu",".attachments-wrapper .attachment",(function(t){t.preventDefault();var n=wp.media.attachment(e(this).attr("data-id")).toJSON();i(n),a(t,{props:{attachment:n}})})),function(){e(document).off("contextmenu",".attachment")}}),[]);var o=!(null==n||!n.google_drive_file),c=!(null==n||!n.igd_media_replace_id),l=[o&&!c&&{key:"import",title:wp.i18n.__("Import to Media Library","integrate-google-drive"),icon:"dashicons-download"},!o&&!c&&{key:"replace",title:wp.i18n.__("Replace with Google Drive","integrate-google-drive"),icon:"dashicons-update-alt"},!!c&&{key:"restore",title:wp.i18n.__("Restore Original","integrate-google-drive"),icon:"dashicons-image-rotate"},!o&&{key:"upload",title:wp.i18n.__("Upload to Google Drive","integrate-google-drive"),icon:"dashicons-upload"}];return React.createElement(Q,null,React.createElement(R,{id:"igd-media-item-context-menu",className:"igd-context-menu"},l.filter(Boolean).map((function(e){var t=e.key,i=e.title,r=e.icon;return React.createElement(S,{key:t,onClick:function(e){e.data,e.event,e.triggerEvent;"import"===t?ae(n):"upload"===t?de(n):"replace"===t?oe(n):"restore"===t&&ce(n)},data:{action:t},className:"context-menu-item ".concat(t),disabled:!1},React.createElement("i",{className:"dashicons ".concat(r)}),React.createElement("span",null,i))}))))};function Pe(){var e,t=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=mediaLibrary";return["dokan_dashboard","dokan_product_edit"].includes(null===(e=igd)||void 0===e?void 0:e.screen)&&(t=igd.dokanDashboardUrl+"#igd-dokan-media-library-settings-header"),React.createElement("div",{className:"no-account-placeholder select-folders-placeholder"},React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't select any folders yet.","integrate-google-drive")),React.createElement("span",{className:"placeholder-description"},wp.i18n.__("Please select the folders that you want to use in the media library.","integrate-google-drive")),React.createElement("a",{className:"igd-btn btn-info select-folders-btn",href:t},React.createElement("span",null,wp.i18n.__("Select Folders","integrate-google-drive"))))}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ke(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){var i;return i=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=De(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==De(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,c=[],l=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(c.push(i.value),c.length!==t);l=!0);}catch(e){d=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw r}}return c}}(e,t)||Je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var qe=React,He=qe.useState,Xe=qe.useEffect,Ge=qe.useRef,Ye=(qe.useCallback,igd.settings),ze=(Ye.integrations,Ye.mediaLibraryFolders),Ve=void 0===ze?[]:ze;Ye.photosMediaLibraryFolders,Ye.photosMediaLibrary;function Ze(e){var t,n=e.frame,i=Ge(null),r=!!Object.keys(JSON.parse(k(igd.accounts))).length,a="upload-list"===igdMedia.pageType,o=n.hasClass("igd-media-replace-frame"),c=null,l=JSON.parse(k(igd.activeAccount))||r&&JSON.parse(k(igd.accounts))[Object.keys(igd.accounts)[0]],d=o?"google":"media";if(a){var s=new URL(window.location.href);if(r){var u=s.searchParams.get("account_id");u&&(u=k(u),l=JSON.parse(k(igd.accounts))[u])}s.searchParams.get("is_refresh")&&(s.searchParams.delete("is_refresh"),window.history.replaceState({},"",s)),c=igd.activeFolder;var m=!!s.searchParams.get("folder_id")&&k(s.searchParams.get("folder_id"));(c||"media"!==m)&&(d="google")}var f=Qe(He(l),2),p=f[0],v=f[1],h=Ve.filter((function(e){return j(e)&&e.accountId===(null==p?void 0:p.id)})),w=Qe(He(d),2),y=w[0],b=w[1],A={id:"media"};"google"===y&&(A=c||{id:"drive",accountId:p.id});var E=Qe(He(A),2),_=E[0],R=E[1],S=Qe(He(!1),2),U=S[0],O=S[1],C=Qe(He({}),2),B=C[0],N=C[1],T=Qe(He([]),2),P=T[0],K=T[1],M=function(e){if(e&&!["drive","photos"].includes(e.id))return O(e.id),wp.ajax.post("igd_get_files",{data:{folder:e,refresh:e.isRefresh},nonce:igd.nonce}).done((function(t){var n=t.files.filter((function(e){return j(e)}));n.length&&N((function(t){return Ie(Ie({},t),{},Le({},e.id,n))})),e.isRefresh&&igdMedia.reloadAttachments()})).fail((function(e){console.log(e),O(null)})).always((function(){O(null)}))},I=function(){var e=F(React.useState(!1),2),t=e[0],n=e[1];return React.useEffect((function(){n(!0)}),[]),t}();Xe((function(){!a&&_&&("drive"===_.id?N((function(e){return Ie(Ie({},e),{},Le({},"drive",h))})):_.id,null!=_&&_.isRefresh&&igdMedia.initFilter(Object.values(B).flat(),_.id),igdMedia.getFrame().find("#igd-media-folder-filter").val(null==_?void 0:_.id).trigger("change"),o||("google"===y?sessionStorage.setItem("igd_media_last_folder",JSON.stringify(Ie(Ie({},_),{},{isRefresh:!1}))):sessionStorage.removeItem("igd_media_last_folder")))}),[y,_]),Xe((function(){var e;c&&(["media","drive"].includes(c.id)||(O((e=c).id),wp.ajax.post("igd_media_get_parent_folders",{folder:e,nonce:igd.nonce}).done((function(e){0!==Object.keys(e).length&&Object.keys(e).forEach((function(t){var n=e[t].folder;K((function(e){return[].concat(Ke(e),[n])}));var i=e[t].children,r=(null==i?void 0:i.filter((function(e){return j(e)})))||[];N((function(e){return Ie(Ie({},e),{},Le({},t,r))}))}))})).fail((function(e){console.log(e)})).always((function(){O(null)})),c&&!B[c.id]&&M(c).then((function(){K((function(e){return[].concat(Ke(e),[c])}))}))))}),[]),Xe((function(){I&&(a?se({folder_id:x(h[0].id),account_id:x(h[0].accountId)}):(igd.activeAccount=x(JSON.stringify(p)),b("google"),R({id:"drive",accountId:p.id})))}),[p]),Xe((function(){var e=jQuery("#refresh-attachments");0===e.length&&jQuery(".media-toolbar .media-toolbar-secondary").first().append('<button id="refresh-attachments" class="button media-button igd-media-refresh-button">'.concat(wp.i18n.__("Refresh","integrate-google-drive"),"</button>"));var t=function(){R(Ie(Ie({},_),{},{isRefresh:!0})),M(Ie(Ie({},_),{},{isRefresh:!0}))};return e.on("click",t),function(){e.off("click",t)}}),[_,R,M]),Xe((function(){if(I){var e=Object.values(B).flat();igdMedia.initFilter(e)}}),[B]);var L=g({id:"igd-media-context-menu"}),Q=L.show,J=L.hideAll;return r?React.createElement(q,{value:{frame:n,activeAccount:p,setActiveAccount:v,activeFolder:_,setActiveFolder:R,rootFolders:h,setTab:b,tab:y,showContextMenu:Q,hideContextMenu:J,isLoading:U,childFolders:B,openFolders:P,setOpenFolders:K,getChildFolders:M}},React.createElement(ve,null),!a&&React.createElement(Te,null),!a&&!(null===(t=B[null==_?void 0:_.id])||void 0===t||!t.length)&&React.createElement(Ue,null),React.createElement("div",{className:"igd-media-tree",ref:i},!o&&React.createElement("div",{className:"tree-item-wrap"},React.createElement("div",{className:"tree-item tab-item ".concat("media"===y?"active":""),onClick:function(){a?se({folder_id:x("media")}):(b("media"),R({id:"media"}))}},React.createElement("i",{className:"tab-icon dashicons dashicons-admin-media"}),React.createElement("span",null,wp.i18n.__("Media Library","igd-media-library")))),React.createElement("div",{className:"tree-item-wrap tree-item-wrap-google ".concat("google"===y?"active":"")},React.createElement("div",{className:"tree-item tab-item ".concat("google"===y?"active":""),onClick:function(){a?se({folder_id:x("drive"),account_id:x(p.id)}):(b("google"),R({id:"drive",accountId:p.id}))},onContextMenu:function(e){e.preventDefault(),Q(e)}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/drive.png"),className:"tab-icon"}),React.createElement("span",null,wp.i18n.__("Google Drive","igd-media-library")),React.createElement(D,{activeAccount:p,setActiveAccount:v})),"google"===y&&!!h.length&&React.createElement(be,{folders:h}),"google"===y&&!Ve.length&&React.createElement(Pe,null)))):React.createElement("div",{className:"igd-media-tree",ref:i},React.createElement("div",{className:"tree-item-wrap"},React.createElement("div",{className:"tree-item tab-item active",onClick:function(){b("media"),R({name:wp.i18n.__("Media Library","igd-media-library"),id:"0",accountId:0})}},React.createElement("i",{className:"tab-icon dashicons dashicons-admin-media"}),React.createElement("span",null,wp.i18n.__("Media Library","igd-media-library")))),React.createElement("div",{className:"tree-item-wrap tree-item-wrap-google"},React.createElement("div",{className:"tree-item tab-item"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/drive.png"),className:"tab-icon"}),React.createElement("span",null,wp.i18n.__("Google Drive","igd-media-library"))),React.createElement(je,null)))}function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function et(e){return function(e){if(Array.isArray(e))return tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}!function(e){var t=arguments,n=igd.settings,i=n.mediaLibraryFolders,r=void 0===i?[]:i,a=n.photosMediaLibraryFolders,o=void 0===a?[]:a,c={ready:function(){c.initModule(),e(document).on("click",".igd-media-action-import",(function(){var t=e(this).attr("data-attachment_id");ae(wp.media.attachment(t).toJSON())})),e(document).on("click",".igd-media-action-replace",(function(){var t=e(this).attr("data-attachment_id");oe(wp.media.attachment(t).toJSON())})),e(document).on("click",".igd-media-action-restore",(function(){var t=e(this).attr("data-attachment_id");ce(wp.media.attachment(t).toJSON())})),e(document).on("click",".igd-media-action-upload",(function(){var t=e(this).attr("data-attachment_id");de(wp.media.attachment(t).toJSON())}));var t=e(".igd-media-refresh-button");t.length&&(t.detach(),e("#post-query-submit").after(t))},getFrame:function(){if("upload-list"===c.pageType)return e(".upload-php #posts-filter");var t=e(".media-modal:visible");return t.length?t.find(".media-frame"):e(".upload-php .media-frame").first()},initModule:function(){"upload.php"===igd.pagenow&&e('#posts-filter input[name="mode"][value="list"]').length&&e("#posts-filter .media").length?c.pageType="upload-list":"upload.php"===igd.pagenow&&e("#wp-media-grid").length&&(c.pageType="upload-grid"),e('.upload-php #posts-filter input[name="mode"][value="list"]').length?c.initTree():("upload-list"!==c.pageType&&c.initFilter(),"undefined"!=typeof wp&&void 0!==wp.media&&void 0!==wp.media.view&&void 0!==wp.media.view.AttachmentsBrowser&&wp.media.view.AttachmentsBrowser.prototype.on("ready",(function(){c.initTree(),"upload-list"!==c.pageType&&c.addAttachmentClass()})));var t=wp.media.controller.FeaturedImage;void 0!==t&&(wp.media.controller.FeaturedImage=wp.media.controller.FeaturedImage.extend({updateSelection:function(){t.prototype.updateSelection.apply(this,arguments),c.initTree()}}));var n=wp.media.view.UploaderInline;void 0!==n&&(wp.media.view.UploaderInline=wp.media.view.UploaderInline.extend({ready:function(){n.prototype.ready.apply(this,arguments),c.initTree()}})),"upload-list"!==c.pageType&&(c.onModalOpen(),c.handleUploader(),c.handleUploadStatus())},handleUploader:function(){var t;void 0!==(null===(t=wp)||void 0===t?void 0:t.Uploader)&&e.extend(wp.Uploader.prototype,{init:function(){var e=this,t=function(){e.uploader.settings.url=_wpPluploadSettings.defaults.url,e.uploader.settings.multipart_params=_wpPluploadSettings.defaults.multipart_params};this.uploader.bind("BeforeUpload",(function(n,i){var r=sessionStorage.getItem("igd_media_last_folder");if(r)try{var a=JSON.parse(r);e.uploader.settings.multipart_params={folder_id:a.id,account_id:a.accountId},e.uploader.settings.url="".concat(igd.ajaxUrl,"?action=igd_media_upload_file&folder_id")}catch(e){console.log(e),t()}else t()})),this.uploader.bind("UploadComplete",c.reloadAttachments)}})},handleUploadStatus:function(){wp.Uploader.queue.on("add",(function(t){var n=t.attributes.file.id;e('.attachment.loading[data-cid="'.concat(n,'"]')).length||void 0===wp.media.frame||void 0===wp.media.frame._state||"featured-image"===wp.media.frame._state||c.getFrame().find(".attachments-browser .attachments").prepend('<li data-cid="'+t.attributes.file.id+'" class="attachment loading"><div class="attachment-preview js--select-attachment type-image subtype-jpeg portrait"><div class="thumbnail"><div class="media-progress-bar"><div style="width:0"></div></div></div></div></li>')})),wp.Uploader.queue.on("reset",(function(){e(".attachment.loading").remove()}));var t=wp.media.view.UploaderStatus;void 0!==t&&(wp.media.view.UploaderStatus=wp.media.view.UploaderStatus.extend({progress:function(n){t.prototype.progress.apply(this,arguments),void 0!==n&&void 0!==n.changed&&void 0!==n.changed.percent&&void 0!==wp.media.frame&&void 0!==wp.media.frame._state&&"featured-image"!==wp.media.frame._state&&e("li.attachment[data-cid="+n.attributes.file.id+"] .media-progress-bar > div").css({width:n.changed.percent+"%"})}}))},initFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(k(igd.activeAccount));if(void 0!==wp.media.view.AttachmentFilters){var i={media:{text:"Media Library",props:{folder_id:0,account_id:n.id}},drive:{text:"Google Drive",props:{folder_id:"drive",account_id:n.id,is_refresh:t&&"drive"===t}},photos:{text:"Google Photos",props:{folder_id:"photos",account_id:n.id,is_refresh:t&&"photos"===t}}},a=r.filter((function(e){return j(e)&&e.accountId===n.id})),l=o.filter((function(e){return j(e)&&e.accountId===n.id}));wp.media.view.AttachmentFilters.igd_media_filter=wp.media.view.AttachmentFilters.extend({className:"igd-media-folder-filter",id:"igd-media-folder-filter",createFilters:function(){var n={};for(var r in n.all={text:wp.i18n.__("All"),props:{folder_id:0,account_id:""}},i)n[r]={text:i[r].text,props:i[r].props};[].concat(et(a),et(l),et(e)).forEach((function(e){n[e.id]={text:e.name,props:{folder_id:e.id,account_id:e.accountId,is_refresh:t&&t===e.id}}})),this.filters=n}})}var d=wp.media.view.AttachmentsBrowser;void 0!==d&&(wp.media.view.AttachmentsBrowser=wp.media.view.AttachmentsBrowser.extend({createToolbar:function(){this.$el.data("backboneView",this),d.prototype.createToolbar.apply(this,arguments),c.attachmentsBrowser=this,this.toolbar.set("igd-media-folder-filter",new wp.media.view.AttachmentFilters.igd_media_filter({controller:this.controller,model:this.collection.props,priority:-75}).render())}})),c.attachmentsBrowser&&c.attachmentsBrowser.toolbar.set("igd-media-folder-filter",new wp.media.view.AttachmentFilters.igd_media_filter({controller:c.attachmentsBrowser.controller,model:c.attachmentsBrowser.collection.props,priority:-75}).render())},initTree:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.getFrame(),n=e(".media-modal:visible").length,i=null;if(n||"upload-list"!==c.pageType&&"upload-grid"!==c.pageType){if(e(window).width()<=900)return;t.hasClass("hide-menu")&&(t.find("#media-search-input").attr("placeholder",t.find(".media-search-input-label").text()),e(window).width()>768&&t.addClass("igd-treeview").removeClass("hide-menu")),i=t.find(".media-frame-menu .igd-media-tree-wrap").length>0}else i=e(".upload-php .igd-media-tree-wrap").length>0;if(i)return"upload-list"!==c.pageType&&void 0!==wp.media.frame&&"gallery-edit"===wp.media.frame._state?void(c.getTreeElement(t).length&&(ReactDOM.unmountComponentAtNode(c.getTreeElement(t)[0]),c.getTreeElement(t).remove())):void c.getTreeElement().show();if(n||"upload-list"!==c.pageType&&"upload-grid"!==c.pageType){var r=t.find(".media-frame-menu .media-menu");r.length||(r=t.find(".media-frame-menu"),t.find(".media-frame-menu-heading").hide()),r.find(".igd-media-tree-wrap").length||e('<div class="igd-media-tree-wrap"></div>').appendTo(r)}else e(".upload-php .igd-media-tree-wrap").length||(e(window).width()<600?e('<div class="igd-media-tree-wrap"></div>').insertBefore(e("ul.attachments")):e('<div class="igd-media-tree-wrap"></div>').insertBefore(e("#wpbody-content")));c.getTreeElement(t).length&&ReactDOM.render(React.createElement(Ze,{frame:t}),c.getTreeElement(t)[0]),t.find(".igd-media-toggle-actions").length||c.initActionsToggle(t)},getTreeElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.getFrame();return e(".media-modal:visible").length||"upload-grid"!==c.pageType&&"upload-list"!==c.pageType?t.find(".igd-media-tree-wrap").first():e(".upload-php .igd-media-tree-wrap")},initActionsToggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.getFrame();e.find(".media-frame-menu-heading").append('<i class="igd-media-toggle-actions dashicons dashicons-arrow-down"></i>'),e.find(".media-frame-menu-heading").on("click",(function(){e.find(".media-menu").toggleClass("show-actions")}))},onModalOpen:function(){var t=wp.media.view.Modal;void 0!==t&&(wp.media.view.Modal=wp.media.view.Modal.extend({open:function(){t.prototype.open.apply(this,arguments);var n=e(".attachment-details"),i=n.find('input[name^="attachments["]').attr("name"),r=null==i?void 0:i.match(/attachments\[(\d+)\]\[menu_order\]/),a=r?r[1]:null;if(a&&wp.media.attachment(a).get("igd_media_replace_id")){var o=n.find(".thumbnail");o.addClass("igd-media-replaced"),o.find(".igd-media-replaced-label").length||o.append('<span class="igd-media-replaced-label dashicons dashicons-update-alt" title="'.concat(wp.i18n.__("Replaced with Google Drive","igd-media-library"),'" ></span>'))}}}))},addAttachmentClass:function(){var t=null;c.getFrame().find(".attachments-browser ul.attachments").on("DOMNodeInserted",(function(){clearTimeout(t),t=setTimeout((function(){c.getFrame().find(".attachments-browser ul.attachments .attachment .thumbnail").each((function(t){var n=e(this);if(n.closest(".attachment-preview").hasClass("type-image")&&!n.closest(".attachment.loading").length){var i=n.closest(".attachment").data("id");if(wp.media.attachment(i).get("igd_media_replace_id")){var r=n.closest(".attachment-preview");r.addClass("igd-media-replaced"),r.find(".igd-media-replaced-label").length||r.append('<span class="igd-media-replaced-label dashicons dashicons-update-alt" title="'.concat(wp.i18n.__("Replaced with Google Drive","igd-media-library"),'" ></span>'))}}}))}),300)}))},reloadAttachments:function(){var e=t.length>0&&void 0!==t[0]&&t[0],n=c.getBackboneOfMedia(e);if(n.browser.length>0&&"object"==$e(n.view))try{n.view.collection.props.set({ignore:+new Date})}catch(e){console.log(e)}},getBackboneOfMedia:function(){var n,i=t.length>0&&void 0!==t[0]&&t[0],r=c.getFrame().parents(".media-modal:visible");return n=(r.length>0&&!i?r.find(".attachments-browser"):e(".media-frame-content .attachments-browser")).data("backboneView"),{browser:e(".attachments-browser"),view:n}}};window.igdMedia=c,e(document).ready(c.ready)}(jQuery)})()})();